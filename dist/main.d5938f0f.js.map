{"version":3,"sources":["scripts/main.js"],"names":["videos","document","getElementsByTagName","fraction","checkScroll","i","length","video","x","offsetLeft","y","offsetTop","w","offsetWidth","h","offsetHeight","r","b","Math","max","min","window","pageXOffset","innerWidth","pageYOffset","innerHeight","play","pause","addEventListener"],"mappings":";AAAA,aAEA,IAAMA,EAASC,SAASC,qBAAqB,SACvCC,EAAW,GAEjB,SAASC,IACF,IAAA,IAAIC,EAAI,EAAGA,EAAIL,EAAOM,OAAQD,IAAK,CAChCE,IAAAA,EAAQP,EAAOK,GAEfG,EAAID,EAAME,WAAkBC,EAAIH,EAAMI,UAAiBC,EAAIL,EAAMM,YAAmBC,EAAIP,EAAMQ,aAAoBC,EAAIR,EAAII,EAC1HK,EAAIP,EAAII,EAEGI,KAAKC,IAAI,EAAGD,KAAKE,IAAIR,EAAGS,OAAOC,YAAcD,OAAOE,WAAaf,EAAGQ,EAAIK,OAAOC,cAC/EJ,KAAKC,IAAI,EAAGD,KAAKE,IAAIN,EAAGO,OAAOG,YAAcH,OAAOI,YAAcf,EAAGO,EAAII,OAAOG,eAE1DZ,EAAIE,GAE7BX,EACZI,EAAMmB,OAENnB,EAAMoB,SAKZN,OAAOO,iBAAiB,SAAUxB,GAAa,GAC/CiB,OAAOO,iBAAiB,SAAUxB,GAAa","file":"main.d5938f0f.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst videos = document.getElementsByTagName('video');\nconst fraction = 0.8;\n\nfunction checkScroll() {\n  for (let i = 0; i < videos.length; i++) {\n    const video = videos[i];\n\n    const x = video.offsetLeft; const y = video.offsetTop; const w = video.offsetWidth; const h = video.offsetHeight; const r = x + w; // right\n    const b = y + h; // bottom\n\n    const visibleX = Math.max(0, Math.min(w, window.pageXOffset + window.innerWidth - x, r - window.pageXOffset));\n    const visibleY = Math.max(0, Math.min(h, window.pageYOffset + window.innerHeight - y, b - window.pageYOffset));\n\n    const visible = visibleX * visibleY / (w * h);\n\n    if (visible > fraction) {\n      video.play();\n    } else {\n      video.pause();\n    }\n  }\n}\n\nwindow.addEventListener('scroll', checkScroll, false);\nwindow.addEventListener('resize', checkScroll, false);\n"]}